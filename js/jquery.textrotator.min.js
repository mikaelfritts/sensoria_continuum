/*
 * textRotator()
 * url: https://github.com/sturple/textrotator
 * Author Shawn Tuprle
 * version 0.0.1
 */

!function(t){t.textRotator=function(e,n){var l={random:!1,fadeIn:1e3,fadeOut:500,duration:5e3,easingin:"swing",easingout:"swing"},i=this;i.settings={},i.globals={child_select:1,$child_select:null};var a=t(e),e=e;i.init=function(){i.settings=t.extend({},l,n),i.settings.random&&i._shuffle(a.children()),i.globals.$child_select=a.find("li:nth-child("+i.globals.child_select+")"),i._fadeIn()},i._fadeIn=function(){i.globals.$child_select.fadeIn({duration:i.settings.fadeIn,easing:i.globals.$child_select.data("easingin")?i.globals.$child_select.data("easingin"):i.settings.easingin,complete:function(){a.find("li").length>1&&i._fadeOut()}})},i._shuffle=function(e){var n=e.get(),l=function(t){return Math.floor(Math.random()*t)},i=t.map(n,function(){var e=l(n.length),i=t(n[e]).clone(!0)[0];return n.splice(e,1),i});e.each(function(e){t(this).replaceWith(t(i[e]))})},i._fadeOut=function(){var t=i.globals.$child_select.data("duration")?i.globals.$child_select.data("duration"):i.settings.duration;i.globals.$child_select.delay(t).fadeOut({duration:i.settings.fadeOut,easing:i.globals.$child_select.data("easingout")?i.globals.$child_select.data("easingout"):i.settings.easingout,complete:function(){i.globals.$child_select.index()+1==a.children().length?(console.log("last"),i.globals.$child_select=a.children().first()):i.globals.$child_select=i.globals.$child_select.next("li"),i._fadeIn()}})},i.init()},t.fn.textRotator=function(e){return this.each(function(){if(void 0==t(this).data("textRotator")){var n=new t.textRotator(this,e);t(this).data("textRotator",n)}})}}(jQuery);